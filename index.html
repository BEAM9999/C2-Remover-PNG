<!DOCTYPE html>
<html lang="th">
<head>
    <link rel="icon" type="image/png" sizes="96x96" href="Remover.png?v=2">
    <link rel="shortcut icon" type="image/png" href="Remover.png?v=2">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>‡∏•‡∏ö‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û | AI Background Remover ‡∏ü‡∏£‡∏µ</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Thai:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
:root{
  --bg:#0a0a1a;--bg2:#111128;--surface:#1a1a35;--surface2:#22224a;--surface3:#2d2d5e;
  --border:#333370;--border2:#444490;
  --text:#e8e8f0;--text2:#b0b0d0;--muted:#7878a0;
  --primary:#7c5cfc;--primary2:#9b7bff;--primary-dim:rgba(124,92,252,.12);
  --accent:#f43f5e;--accent2:#fb7185;
  --gradient:linear-gradient(135deg,#7c5cfc 0%,#a855f7 50%,#f43f5e 100%);
  --gradient2:linear-gradient(135deg,#7c5cfc,#a855f7);
  --shadow:0 4px 24px rgba(0,0,0,.4);
  --radius:16px;--radius-sm:10px;--radius-xs:6px;
}
html{scroll-behavior:smooth}
body{font-family:'Noto Sans Thai',system-ui,-apple-system,sans-serif;background:var(--bg);color:var(--text);line-height:1.6;overflow-x:hidden}
a{color:var(--primary2);text-decoration:none}
a:hover{color:var(--accent2)}
img{max-width:100%;display:block}
button{font-family:inherit;cursor:pointer;border:none;outline:none}

/* ‚îÄ‚îÄ Scrollbar ‚îÄ‚îÄ */
::-webkit-scrollbar{width:8px}
::-webkit-scrollbar-track{background:var(--bg2)}
::-webkit-scrollbar-thumb{background:var(--border);border-radius:4px}
::-webkit-scrollbar-thumb:hover{background:var(--primary)}

/* ‚îÄ‚îÄ Navbar ‚îÄ‚îÄ */
.navbar{position:fixed;top:0;left:0;right:0;z-index:100;background:rgba(10,10,26,.85);backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);border-bottom:1px solid rgba(51,51,112,.3);padding:0 24px;height:64px;display:flex;align-items:center;justify-content:space-between}
.nav-brand{display:flex;align-items:center;gap:10px;font-weight:800;font-size:1.2rem;background:var(--gradient);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
.nav-brand svg{flex-shrink:0}
.nav-links{display:flex;gap:24px;align-items:center}
.nav-links a{color:var(--text2);font-size:.88rem;font-weight:500;transition:color .2s}
.nav-links a:hover{color:var(--primary2)}
.nav-cta{background:var(--gradient2)!important;color:#fff!important;padding:8px 20px;border-radius:20px;font-weight:600;font-size:.85rem;transition:opacity .2s}
.nav-cta:hover{opacity:.85}

/* ‚îÄ‚îÄ Hero ‚îÄ‚îÄ */
.hero{padding:120px 24px 60px;text-align:center;position:relative;overflow:hidden}
.hero::before{content:'';position:absolute;top:-200px;left:50%;transform:translateX(-50%);width:800px;height:800px;background:radial-gradient(circle,rgba(124,92,252,.15) 0%,transparent 60%);pointer-events:none}
.hero h1{font-size:clamp(2rem,5vw,3.2rem);font-weight:900;line-height:1.25;margin-bottom:16px;position:relative}
.hero h1 span{background:var(--gradient);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
.hero p{font-size:clamp(.95rem,2vw,1.15rem);color:var(--text2);max-width:640px;margin:0 auto 40px;line-height:1.7}
.hero-badges{display:flex;justify-content:center;gap:12px;flex-wrap:wrap;margin-bottom:32px}
.hero-badge{display:inline-flex;align-items:center;gap:6px;padding:6px 14px;background:var(--surface);border:1px solid var(--border);border-radius:20px;font-size:.78rem;color:var(--text2)}
.hero-badge svg{flex-shrink:0}

/* ‚îÄ‚îÄ Upload Zone ‚îÄ‚îÄ */
.upload-zone{max-width:680px;margin:0 auto;padding:52px 32px;border:2.5px dashed var(--border);border-radius:var(--radius);background:var(--surface);position:relative;cursor:pointer;transition:all .3s;text-align:center}
.upload-zone:hover,.upload-zone.drag-over{border-color:var(--primary);background:var(--primary-dim);transform:translateY(-2px);box-shadow:0 8px 40px rgba(124,92,252,.15)}
.upload-zone.drag-over{border-style:solid}
.upload-icon{width:72px;height:72px;margin:0 auto 20px;background:var(--gradient2);border-radius:50%;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 20px rgba(124,92,252,.3)}
.upload-zone h3{font-size:1.2rem;font-weight:700;margin-bottom:8px}
.upload-zone p{color:var(--muted);font-size:.88rem}
.upload-zone input{display:none}
.upload-hint{margin-top:14px;font-size:.78rem;color:var(--muted);display:flex;align-items:center;justify-content:center;gap:6px}

/* ‚îÄ‚îÄ Samples ‚îÄ‚îÄ */
.samples{max-width:680px;margin:20px auto 0;text-align:center}
.samples-label{font-size:.82rem;color:var(--muted);margin-bottom:12px}
.samples-grid{display:flex;justify-content:center;gap:10px;flex-wrap:wrap}
.sample-thumb{width:64px;height:64px;border-radius:var(--radius-sm);border:2px solid var(--border);cursor:pointer;overflow:hidden;transition:all .2s;object-fit:cover}
.sample-thumb:hover{border-color:var(--primary);transform:scale(1.08)}

/* ‚îÄ‚îÄ Processing ‚îÄ‚îÄ */
.processing{display:none;max-width:680px;margin:0 auto;padding:120px 32px 80px;text-align:center}
.processing.active{display:block}
.proc-spinner{width:64px;height:64px;margin:0 auto 24px;border:4px solid var(--border);border-top-color:var(--primary);border-radius:50%;animation:spin .8s linear infinite}
@keyframes spin{to{transform:rotate(360deg)}}
.proc-title{font-size:1.1rem;font-weight:700;margin-bottom:8px}
.proc-status{font-size:.88rem;color:var(--muted);margin-bottom:20px}
.proc-bar-wrap{width:100%;max-width:400px;margin:0 auto;height:8px;background:var(--surface2);border-radius:4px;overflow:hidden}
.proc-bar{height:100%;background:var(--gradient2);border-radius:4px;transition:width .3s;width:0%}

/* ‚îÄ‚îÄ Editor / Result ‚îÄ‚îÄ */
.editor{display:none;max-width:1100px;margin:0 auto;padding:100px 24px 60px}
.editor.active{display:block}
.editor-top{display:flex;align-items:center;justify-content:space-between;margin-bottom:20px;flex-wrap:wrap;gap:12px}
.editor-title{font-size:1rem;font-weight:700}
.editor-actions{display:flex;gap:10px;flex-wrap:wrap}
.btn{padding:10px 20px;border-radius:var(--radius-sm);font-size:.85rem;font-weight:600;transition:all .15s;display:inline-flex;align-items:center;gap:8px}
.btn-primary{background:var(--gradient2);color:#fff}
.btn-primary:hover{opacity:.85;transform:translateY(-1px)}
.btn-secondary{background:var(--surface2);color:var(--text2);border:1px solid var(--border)}
.btn-secondary:hover{background:var(--surface3);color:var(--text);border-color:var(--border2)}
.btn-danger{background:#dc2626;color:#fff}
.btn-danger:hover{background:#ef4444}
.btn-icon{width:38px;height:38px;padding:0;display:flex;align-items:center;justify-content:center;background:var(--surface2);border:1px solid var(--border);border-radius:var(--radius-xs);color:var(--text2);transition:all .15s}
.btn-icon:hover{background:var(--surface3);color:var(--text);border-color:var(--primary)}

.editor-canvas{display:grid;grid-template-columns:1fr 1fr;gap:20px;margin-bottom:24px}
@media(max-width:768px){.editor-canvas{grid-template-columns:1fr}}
.canvas-panel{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);overflow:hidden;position:relative}
.canvas-label{position:absolute;top:12px;left:12px;padding:4px 12px;background:rgba(10,10,26,.75);backdrop-filter:blur(8px);border-radius:16px;font-size:.75rem;font-weight:600;color:var(--text2);z-index:2}
.canvas-img-wrap{display:flex;align-items:center;justify-content:center;min-height:340px;padding:16px;position:relative}
.canvas-img-wrap img{max-height:420px;border-radius:var(--radius-xs);object-fit:contain}

/* Checkerboard for transparent bg */
.checker-bg{background-image:linear-gradient(45deg,#1a1a35 25%,transparent 25%),linear-gradient(-45deg,#1a1a35 25%,transparent 25%),linear-gradient(45deg,transparent 75%,#1a1a35 75%),linear-gradient(-45deg,transparent 75%,#1a1a35 75%);background-size:20px 20px;background-position:0 0,0 10px,10px -10px,-10px 0}

/* ‚îÄ‚îÄ Background Options ‚îÄ‚îÄ */
.bg-options{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);padding:20px;margin-bottom:20px}
.bg-options-title{font-size:.84rem;font-weight:700;color:var(--text2);margin-bottom:14px;display:flex;align-items:center;gap:8px}
.bg-options-title svg{flex-shrink:0}
.bg-grid{display:flex;flex-wrap:wrap;gap:10px;align-items:center}
.bg-swatch{width:44px;height:44px;border-radius:var(--radius-xs);border:2.5px solid var(--border);cursor:pointer;transition:all .2s;position:relative;overflow:hidden}
.bg-swatch:hover{transform:scale(1.1);border-color:var(--primary)}
.bg-swatch.active{border-color:var(--primary);box-shadow:0 0 0 3px rgba(124,92,252,.3)}
.bg-swatch.transparent{background-image:linear-gradient(45deg,#ccc 25%,transparent 25%),linear-gradient(-45deg,#ccc 25%,transparent 25%),linear-gradient(45deg,transparent 75%,#ccc 75%),linear-gradient(-45deg,transparent 75%,#ccc 75%);background-size:12px 12px;background-position:0 0,0 6px,6px -6px,-6px 0}
.bg-color-input{width:44px;height:44px;border:none;padding:0;cursor:pointer;border-radius:var(--radius-xs);overflow:hidden;background:none}
.bg-color-input::-webkit-color-swatch-wrapper{padding:0}
.bg-color-input::-webkit-color-swatch{border:2.5px solid var(--border);border-radius:var(--radius-xs)}
.bg-gradient-1{background:linear-gradient(135deg,#667eea,#764ba2)}
.bg-gradient-2{background:linear-gradient(135deg,#f093fb,#f5576c)}
.bg-gradient-3{background:linear-gradient(135deg,#4facfe,#00f2fe)}
.bg-gradient-4{background:linear-gradient(135deg,#43e97b,#38f9d7)}
.bg-image-upload{width:44px;height:44px;border-radius:var(--radius-xs);border:2.5px dashed var(--border);cursor:pointer;display:flex;align-items:center;justify-content:center;color:var(--muted);transition:all .2s;font-size:.7rem;text-align:center;line-height:1.2}
.bg-image-upload:hover{border-color:var(--primary);color:var(--primary)}

/* ‚îÄ‚îÄ Download Panel ‚îÄ‚îÄ */
.download-panel{display:flex;gap:12px;flex-wrap:wrap;align-items:center}
.download-format{display:flex;gap:8px}

/* ‚îÄ‚îÄ Brush Mask Editor ‚îÄ‚îÄ */
.brush-panel{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);padding:20px;margin-bottom:20px;display:none}
.brush-panel.active{display:block}
.brush-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:16px}
.brush-header-title{font-size:.88rem;font-weight:700;display:flex;align-items:center;gap:8px}
.brush-toggle-wrap{display:flex;align-items:center;gap:8px}
.brush-toggle-text{font-size:.78rem;color:var(--muted);font-weight:500}
.brush-toggle{position:relative;width:46px;height:24px;background:var(--surface3);border-radius:12px;cursor:pointer;transition:background .2s;border:none;padding:0;flex-shrink:0}
.brush-toggle.on{background:var(--primary)}
.brush-toggle::after{content:'';position:absolute;top:2px;left:2px;width:20px;height:20px;background:#fff;border-radius:50%;transition:transform .2s;box-shadow:0 1px 3px rgba(0,0,0,.25)}
.brush-toggle.on::after{transform:translateX(22px)}
.brush-body{display:none}.brush-body.visible{display:block}
.brush-preview-row{display:flex;gap:14px;margin-bottom:18px;justify-content:center}
.brush-preview-thumb{text-align:center;cursor:pointer;transition:all .15s}
.brush-preview-thumb img{width:88px;height:88px;object-fit:contain;border-radius:var(--radius-xs);border:2px solid var(--border);transition:border-color .2s;background-image:linear-gradient(45deg,#1a1a35 25%,transparent 25%),linear-gradient(-45deg,#1a1a35 25%,transparent 25%),linear-gradient(45deg,transparent 75%,#1a1a35 75%),linear-gradient(-45deg,transparent 75%,#1a1a35 75%);background-size:10px 10px;background-position:0 0,0 5px,5px -5px,-5px 0}
.brush-preview-thumb.active img{border-color:var(--primary);box-shadow:0 0 0 2px rgba(124,92,252,.3)}
.brush-preview-thumb span{display:block;font-size:.72rem;color:var(--muted);margin-top:6px;font-weight:500}
.brush-modes{display:flex;margin-bottom:16px;background:var(--surface2);border-radius:var(--radius-sm);overflow:hidden;border:1px solid var(--border)}
.brush-mode-btn{flex:1;padding:10px 14px;background:transparent;color:var(--text2);font-weight:600;font-size:.82rem;border:none;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:6px;transition:all .15s}
.brush-mode-btn+.brush-mode-btn{border-left:1px solid var(--border)}
.brush-mode-btn.active{background:var(--primary);color:#fff}
.brush-mode-btn:hover:not(.active){background:var(--surface3)}
.brush-slider-row{margin-bottom:14px}
.brush-slider-head{display:flex;align-items:center;justify-content:space-between;margin-bottom:6px}
.brush-slider-head .lbl{font-size:.82rem;color:var(--text2);font-weight:500;display:flex;align-items:center;gap:5px}
.brush-slider-head .val{font-size:.82rem;color:var(--primary2);font-weight:700;min-width:28px;text-align:right}
.brush-range{-webkit-appearance:none;appearance:none;width:100%;height:6px;background:var(--surface3);border-radius:3px;outline:none;cursor:pointer}
.brush-range::-webkit-slider-thumb{-webkit-appearance:none;width:18px;height:18px;border-radius:50%;background:var(--primary);cursor:pointer;box-shadow:0 1px 4px rgba(0,0,0,.3);border:2px solid #fff}
.brush-range::-moz-range-thumb{width:18px;height:18px;border-radius:50%;background:var(--primary);cursor:pointer;box-shadow:0 1px 4px rgba(0,0,0,.3);border:2px solid #fff}
.brush-canvas-wrap{position:relative;margin:0 auto 16px;border-radius:var(--radius);overflow:hidden;border:1px solid var(--border);background-image:linear-gradient(45deg,#1a1a35 25%,transparent 25%),linear-gradient(-45deg,#1a1a35 25%,transparent 25%),linear-gradient(45deg,transparent 75%,#1a1a35 75%),linear-gradient(-45deg,transparent 75%,#1a1a35 75%);background-size:20px 20px;background-position:0 0,0 10px,10px -10px,-10px 0;display:flex;align-items:center;justify-content:center;min-height:250px;max-width:700px}
.brush-canvas-wrap canvas{display:block;max-width:100%;cursor:crosshair}
.brush-footer{display:flex;gap:8px;flex-wrap:wrap;align-items:center}
.brush-undo-group{display:flex;gap:6px}
.brush-reset-btn{margin-left:auto}
.brush-cursor-ring{position:fixed;pointer-events:none;border:2px solid rgba(255,255,255,.7);border-radius:50%;z-index:9999;display:none;box-shadow:0 0 0 1px rgba(0,0,0,.3)}

/* ‚îÄ‚îÄ Compare Slider ‚îÄ‚îÄ */
.compare-container{position:relative;max-width:600px;margin:0 auto 24px;border-radius:var(--radius);overflow:hidden;cursor:col-resize;user-select:none;border:1px solid var(--border);display:none;background:var(--surface);min-height:300px}
.compare-container.active{display:block}
.compare-container img{display:block;width:100%;height:100%;object-fit:contain;pointer-events:none}
.compare-after{position:absolute;top:0;left:0;width:100%;height:100%;background-image:linear-gradient(45deg,#1a1a35 25%,transparent 25%),linear-gradient(-45deg,#1a1a35 25%,transparent 25%),linear-gradient(45deg,transparent 75%,#1a1a35 75%),linear-gradient(-45deg,transparent 75%,#1a1a35 75%);background-size:20px 20px;background-position:0 0,0 10px,10px -10px,-10px 0}
.compare-before{position:absolute;top:0;left:0;width:50%;height:100%;overflow:hidden;z-index:2;background:var(--surface)}
.compare-before img{width:100%;height:100%;object-fit:contain;position:absolute;top:0;left:0;max-width:none;object-position:left center}
.compare-after img{object-position:left center}
.compare-slider{position:absolute;top:0;left:50%;width:4px;height:100%;background:var(--primary);z-index:3;transform:translateX(-50%);box-shadow:0 0 10px rgba(0,0,0,0.5)}
.compare-slider::after{content:'‚ü∑';position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:40px;height:40px;background:var(--primary);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:.9rem;color:#fff;box-shadow:0 2px 8px rgba(0,0,0,.3);border:2px solid #fff}
.compare-label{position:absolute;top:12px;padding:4px 12px;background:rgba(10,10,26,.75);backdrop-filter:blur(8px);border-radius:16px;font-size:.72rem;font-weight:600;color:var(--text2);z-index:4}
.compare-label.before{left:12px}
.compare-label.after{right:12px}

/* ‚îÄ‚îÄ Sections ‚îÄ‚îÄ */
.section{padding:80px 24px}
.section-center{max-width:1000px;margin:0 auto}
.section-tag{display:inline-flex;align-items:center;gap:6px;padding:6px 14px;background:var(--primary-dim);border:1px solid rgba(124,92,252,.25);border-radius:20px;font-size:.78rem;font-weight:600;color:var(--primary2);margin-bottom:16px}
.section-title{font-size:clamp(1.5rem,3.5vw,2.2rem);font-weight:800;line-height:1.3;margin-bottom:12px}
.section-title span{background:var(--gradient);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
.section-desc{font-size:1rem;color:var(--text2);max-width:600px;line-height:1.7;margin-bottom:40px}
.section-desc.center{margin-left:auto;margin-right:auto;text-align:center}

/* ‚îÄ‚îÄ How It Works ‚îÄ‚îÄ */
.steps-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:24px}
.step-card{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);padding:32px 24px;text-align:center;position:relative;transition:all .2s}
.step-card:hover{border-color:var(--primary);transform:translateY(-4px);box-shadow:0 12px 40px rgba(124,92,252,.1)}
.step-num{width:48px;height:48px;border-radius:50%;background:var(--gradient2);color:#fff;font-weight:800;font-size:1.1rem;display:inline-flex;align-items:center;justify-content:center;margin-bottom:16px;box-shadow:0 4px 16px rgba(124,92,252,.25)}
.step-card h3{font-size:1.05rem;font-weight:700;margin-bottom:8px}
.step-card p{font-size:.88rem;color:var(--text2);line-height:1.6}
.step-icon{font-size:2rem;margin-bottom:12px}

/* ‚îÄ‚îÄ Features Grid ‚îÄ‚îÄ */
.features-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:20px}
.feature-card{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);padding:28px 24px;transition:all .2s}
.feature-card:hover{border-color:var(--primary);transform:translateY(-3px);box-shadow:0 8px 32px rgba(124,92,252,.08)}
.feature-icon{width:50px;height:50px;border-radius:var(--radius-sm);background:var(--primary-dim);color:var(--primary2);display:flex;align-items:center;justify-content:center;font-size:1.4rem;margin-bottom:16px}
.feature-card h3{font-size:1rem;font-weight:700;margin-bottom:6px}
.feature-card p{font-size:.85rem;color:var(--text2);line-height:1.55}

/* ‚îÄ‚îÄ Use Cases ‚îÄ‚îÄ */
.usecases-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:16px}
.usecase-card{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);padding:24px;text-align:center;transition:all .2s}
.usecase-card:hover{border-color:var(--primary);transform:translateY(-3px)}
.usecase-icon{font-size:2.2rem;margin-bottom:12px}
.usecase-card h4{font-size:.92rem;font-weight:700;margin-bottom:4px}
.usecase-card p{font-size:.8rem;color:var(--muted)}

/* ‚îÄ‚îÄ Stats ‚îÄ‚îÄ */
.stats-bar{background:var(--surface);border-top:1px solid var(--border);border-bottom:1px solid var(--border);padding:40px 24px}
.stats-grid{max-width:900px;margin:0 auto;display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:24px;text-align:center}
.stat-num{font-size:clamp(1.8rem,4vw,2.6rem);font-weight:900;background:var(--gradient);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
.stat-label{font-size:.84rem;color:var(--muted);margin-top:4px}

/* ‚îÄ‚îÄ FAQ ‚îÄ‚îÄ */
.faq-list{max-width:740px;margin:0 auto;display:flex;flex-direction:column;gap:12px}
.faq-item{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius-sm);overflow:hidden;transition:border-color .2s}
.faq-item:hover{border-color:var(--border2)}
.faq-q{padding:18px 20px;font-weight:600;font-size:.92rem;cursor:pointer;display:flex;align-items:center;justify-content:space-between;gap:12px;transition:color .2s;user-select:none}
.faq-q:hover{color:var(--primary2)}
.faq-q svg{flex-shrink:0;transition:transform .3s}
.faq-item.open .faq-q svg{transform:rotate(180deg)}
.faq-a{max-height:0;overflow:hidden;transition:max-height .35s ease,padding .35s;padding:0 20px}
.faq-item.open .faq-a{max-height:300px;padding:0 20px 18px}
.faq-a p{font-size:.88rem;color:var(--text2);line-height:1.65}

/* ‚îÄ‚îÄ CTA Section ‚îÄ‚îÄ */
.cta-section{text-align:center;padding:80px 24px;position:relative}
.cta-section::before{content:'';position:absolute;bottom:0;left:50%;transform:translateX(-50%);width:600px;height:400px;background:radial-gradient(circle,rgba(124,92,252,.1) 0%,transparent 60%);pointer-events:none}
.cta-section h2{font-size:clamp(1.5rem,3.5vw,2rem);font-weight:800;margin-bottom:12px}
.cta-section p{color:var(--text2);margin-bottom:28px;font-size:1rem}
.cta-btn{display:inline-flex;align-items:center;gap:10px;padding:14px 36px;background:var(--gradient);border-radius:28px;color:#fff;font-weight:700;font-size:1rem;transition:all .2s;border:none;box-shadow:0 4px 24px rgba(124,92,252,.3)}
.cta-btn:hover{transform:translateY(-2px);box-shadow:0 8px 32px rgba(124,92,252,.4);opacity:.92}

/* ‚îÄ‚îÄ Footer ‚îÄ‚îÄ */
.footer{border-top:1px solid var(--border);padding:32px 24px;text-align:center}
.footer p{font-size:.82rem;color:var(--muted)}
.footer a{color:var(--primary2)}

/* ‚îÄ‚îÄ Toast ‚îÄ‚îÄ */
.toast{position:fixed;bottom:24px;right:24px;padding:14px 24px;background:var(--surface2);border:1px solid var(--border);border-radius:var(--radius-sm);color:var(--text);font-size:.88rem;box-shadow:var(--shadow);z-index:200;transform:translateY(100px);opacity:0;transition:all .3s}
.toast.show{transform:translateY(0);opacity:1}
.toast.success{border-color:#22c55e;background:rgba(34,197,94,.12)}
.toast.error{border-color:#ef4444;background:rgba(239,68,68,.12)}

/* ‚îÄ‚îÄ Animations ‚îÄ‚îÄ */
@keyframes fadeIn{from{opacity:0;transform:translateY(16px)}to{opacity:1;transform:translateY(0)}}
.fade-in{animation:fadeIn .5s ease forwards}
@keyframes pulse{0%,100%{opacity:1}50%{opacity:.5}}
.pulse{animation:pulse 1.5s ease infinite}

/* ‚îÄ‚îÄ Responsive ‚îÄ‚îÄ */
@media(max-width:640px){
  .navbar{padding:0 16px}
  .nav-links{gap:12px}
  .nav-links a:not(.nav-cta){display:none}
  .hero{padding:100px 16px 40px}
  .upload-zone{padding:36px 20px}
  .editor-canvas{gap:12px}
  .bg-grid{gap:8px}
  .section{padding:56px 16px}
  .steps-grid,.features-grid{grid-template-columns:1fr}
}
</style>
</head>
<body>

<!-- ‚ñà‚ñà Navbar ‚ñà‚ñà -->
<nav class="navbar">
  <div class="nav-brand">
    <svg width="28" height="28" viewBox="0 0 24 24" fill="none"><defs><linearGradient id="gLogo" x1="0" y1="0" x2="24" y2="24"><stop offset="0%" stop-color="#7c5cfc"/><stop offset="100%" stop-color="#f43f5e"/></linearGradient></defs><rect x="2" y="2" width="20" height="20" rx="5" fill="url(#gLogo)" opacity=".15"/><path d="M8 12L11 15L16 9" stroke="url(#gLogo)" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
    C2 Remover
  </div>
  <div class="nav-links">
    <a href="#features">‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥</a>
    <a href="#howto">‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</a>
    <a href="#faq">FAQ</a>
    <a href="#top" class="nav-cta" onclick="scrollToUpload()">‡∏•‡∏ö‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á</a>
  </div>
</nav>

<!-- ‚ñà‚ñà Hero ‚ñà‚ñà -->
<section class="hero" id="top">
  <div class="hero-badges">
    <span class="hero-badge">
      <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="#22c55e" stroke-width="2.5"><path d="M20 6L9 17l-5-5"/></svg>
      ‡∏ü‡∏£‡∏µ 100%
    </span>
    <span class="hero-badge">
      <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="#a855f7" stroke-width="2.5"><circle cx="12" cy="12" r="10"/><path d="M12 6v6l4 2"/></svg>
      ‡πÑ‡∏°‡πà‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á
    </span>
    <span class="hero-badge">
      <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="#f43f5e" stroke-width="2.5"><path d="M12 22s-8-4.5-8-11.8A8 8 0 0 1 12 2a8 8 0 0 1 8 8.2c0 7.3-8 11.8-8 11.8z"/></svg>
      ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å
    </span>
    <span class="hero-badge">
      <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="#4facfe" stroke-width="2.5"><rect x="3" y="11" width="18" height="11" rx="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>
      ‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢ - ‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•‡πÉ‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì
    </span>
  </div>
  <h1>‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠<span>‡∏•‡∏ö‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏î‡πâ‡∏ß‡∏¢ AI</span></h1>
  <p>‡∏•‡∏ö‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏î‡πâ‡∏ß‡∏¢‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ AI ‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÉ‡∏ô‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏õ‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå ‡∏ü‡∏£‡∏µ ‡πÑ‡∏°‡πà‡∏à‡∏≥‡∏Å‡∏±‡∏î ‡πÑ‡∏î‡πâ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏°‡∏∑‡∏≠‡∏≠‡∏≤‡∏ä‡∏µ‡∏û</p>

  <!-- Upload Zone -->
  <div class="upload-zone" id="uploadZone">
    <div class="upload-icon">
      <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="#fff" stroke-width="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="17 8 12 3 7 8"/><line x1="12" y1="3" x2="12" y2="15"/></svg>
    </div>
    <h3>‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</h3>
    <p>‡∏•‡∏≤‡∏Å‡πÑ‡∏ü‡∏•‡πå‡∏°‡∏≤‡∏ß‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà ‡∏´‡∏£‡∏∑‡∏≠‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏ü‡∏•‡πå</p>
    <div class="upload-hint">
      <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="18" height="18" rx="2"/><circle cx="8.5" cy="8.5" r="1.5"/><path d="M21 15l-5-5L5 21"/></svg>
      ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö JPEG, PNG, WEBP ‚Äî ‡∏Ç‡∏ô‡∏≤‡∏î‡πÑ‡∏°‡πà‡∏à‡∏≥‡∏Å‡∏±‡∏î
    </div>
    <input type="file" id="fileInput" accept="image/jpeg,image/png,image/webp">
  </div>

  <!-- Samples -->
  <div class="samples" id="samplesArea">
    <div class="samples-label">‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û? ‡∏•‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡∏£‡∏π‡∏õ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á ‚¨áÔ∏è</div>
    <div class="samples-grid">
      <img class="sample-thumb" src="https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=120&h=120&fit=crop" alt="‡∏ô‡∏≤‡∏¨‡∏¥‡∏Å‡∏≤" data-full="https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=800&q=80" crossorigin="anonymous">
      <img class="sample-thumb" src="https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=120&h=120&fit=crop" alt="‡∏´‡∏π‡∏ü‡∏±‡∏á" data-full="https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=800&q=80" crossorigin="anonymous">
      <img class="sample-thumb" src="https://images.unsplash.com/photo-1542291026-7eec264c27ff?w=120&h=120&fit=crop" alt="‡∏£‡∏≠‡∏á‡πÄ‡∏ó‡πâ‡∏≤" data-full="https://images.unsplash.com/photo-1542291026-7eec264c27ff?w=800&q=80" crossorigin="anonymous">
      <img class="sample-thumb" src="https://images.unsplash.com/photo-1526170375885-4d8ecf77b99f?w=120&h=120&fit=crop" alt="‡∏Å‡∏•‡πâ‡∏≠‡∏á" data-full="https://images.unsplash.com/photo-1526170375885-4d8ecf77b99f?w=800&q=80" crossorigin="anonymous">
      <img class="sample-thumb" src="https://images.unsplash.com/photo-1572635196237-14b3f281503f?w=120&h=120&fit=crop" alt="‡πÅ‡∏ß‡πà‡∏ô‡∏ï‡∏≤‡∏Å‡∏±‡∏ô‡πÅ‡∏î‡∏î" data-full="https://images.unsplash.com/photo-1572635196237-14b3f281503f?w=800&q=80" crossorigin="anonymous">
    </div>
  </div>
</section>

<!-- ‚ñà‚ñà Processing ‚ñà‚ñà -->
<div class="processing" id="processing">
  <div class="proc-spinner"></div>
  <div class="proc-title" id="procTitle">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡πÇ‡∏°‡πÄ‡∏î‡∏• AI...</div>
  <div class="proc-status" id="procStatus">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏≠‡∏™‡∏±‡∏Å‡∏Ñ‡∏£‡∏π‡πà ‡∏Å‡∏≤‡∏£‡πÇ‡∏´‡∏•‡∏î‡πÇ‡∏°‡πÄ‡∏î‡∏•‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å‡∏≠‡∏≤‡∏à‡πÉ‡∏ä‡πâ‡πÄ‡∏ß‡∏•‡∏≤‡∏™‡∏±‡∏Å‡∏û‡∏±‡∏Å</div>
  <div class="proc-bar-wrap"><div class="proc-bar" id="procBar"></div></div>
</div>

<!-- ‚ñà‚ñà Editor / Result ‚ñà‚ñà -->
<div class="editor" id="editor">
  <div class="editor-top">
    <div class="editor-title">‚ú® ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå</div>
    <div class="editor-actions">
      <button class="btn btn-secondary" onclick="toggleCompare()" id="btnCompare">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="18" height="18" rx="2"/><line x1="12" y1="3" x2="12" y2="21"/></svg>
        ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö
      </button>
      <button class="btn btn-secondary" onclick="resetEditor()">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"/><path d="M3 3v5h5"/></svg>
        ‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡πÉ‡∏´‡∏°‡πà
      </button>
    </div>
  </div>

  <!-- Compare Slider -->
  <div class="compare-container" id="compareContainer">
    <span class="compare-label before">‡∏Å‡πà‡∏≠‡∏ô</span>
    <span class="compare-label after">‡∏´‡∏•‡∏±‡∏á</span>
    <div class="compare-after"><img id="compareAfter" alt="After"></div>
    <div class="compare-before" id="compareBefore"><img id="compareBImg" alt="Before"></div>
    <div class="compare-slider" id="compareSlider"></div>
  </div>

  <!-- Side by Side -->
  <div class="editor-canvas" id="sideBySide">
    <div class="canvas-panel">
      <span class="canvas-label">‡∏ï‡πâ‡∏ô‡∏â‡∏ö‡∏±‡∏ö</span>
      <div class="canvas-img-wrap"><img id="imgOriginal" alt="Original"></div>
    </div>
    <div class="canvas-panel">
      <span class="canvas-label">‡∏•‡∏ö‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡πÅ‡∏•‡πâ‡∏ß</span>
      <div class="canvas-img-wrap checker-bg" id="resultWrap"><img id="imgResult" alt="Result"></div>
    </div>
  </div>

  <!-- Brush Mask Editor -->
  <div class="brush-panel" id="brushPanel">
    <div class="brush-preview-row">
      <div class="brush-preview-thumb active" data-preview="original" onclick="setBrushPreview('original',this)">
        <img id="brushPrevOrig" alt="Original">
        <span>‡πÄ‡∏ö‡∏•‡∏≠</span>
      </div>
      <div class="brush-preview-thumb" data-preview="removed" onclick="setBrushPreview('removed',this)">
        <img id="brushPrevRemoved" alt="Removed">
        <span>‡∏ô‡∏≥‡∏≠‡∏≠‡∏Å</span>
      </div>
      <div class="brush-preview-thumb" data-preview="replace" onclick="setBrushPreview('replace',this)">
        <img id="brushPrevReplace" alt="Replace">
        <span>‡πÅ‡∏ó‡∏ô‡∏ó‡∏µ‡πà</span>
      </div>
    </div>
    <div class="brush-header">
      <div class="brush-header-title">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 19l7-7 3 3-7 7-3-3z"/><path d="M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"/><path d="M2 2l7.586 7.586"/><circle cx="11" cy="11" r="2"/></svg>
        ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡πÅ‡∏õ‡∏£‡∏á‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á
      </div>
      <div class="brush-toggle-wrap">
        <span class="brush-toggle-text" id="brushToggleLabel">‡∏õ‡∏¥‡∏î</span>
        <button class="brush-toggle" id="brushToggle" onclick="toggleBrushTool()"></button>
      </div>
    </div>
    <div class="brush-body" id="brushBody">
      <div class="brush-modes">
        <button class="brush-mode-btn active" id="btnAddMask" onclick="setBrushMode('add')">
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="16"/><line x1="8" y1="12" x2="16" y2="12"/></svg>
          ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏°‡∏≤‡∏™‡∏Å‡πå
        </button>
        <button class="brush-mode-btn" id="btnRemoveMask" onclick="setBrushMode('remove')">
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><circle cx="12" cy="12" r="10"/><path d="M15 9l-6 6M9 9l6 6"/></svg>
          ‡πÄ‡∏≠‡∏≤‡∏°‡∏≤‡∏™‡∏Å‡πå‡∏≠‡∏≠‡∏Å
        </button>
      </div>
      <div class="brush-slider-row">
        <div class="brush-slider-head">
          <span class="lbl"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="vertical-align:middle"><circle cx="12" cy="12" r="10"/></svg> ‡∏Ç‡∏ô‡∏≤‡∏î‡πÅ‡∏õ‡∏£‡∏á</span>
          <span class="val" id="brushSizeVal">35</span>
        </div>
        <input type="range" class="brush-range" id="brushSize" min="1" max="200" value="35" oninput="updateBrushSize(this.value)">
      </div>
      <div class="brush-slider-row">
        <div class="brush-slider-head">
          <span class="lbl"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="vertical-align:middle"><circle cx="12" cy="12" r="3"/><circle cx="12" cy="12" r="8" stroke-dasharray="2 2"/></svg> ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡∏∏‡πà‡∏°‡∏ô‡∏ß‡∏•‡∏Ç‡∏≠‡∏á‡πÅ‡∏õ‡∏£‡∏á</span>
          <span class="val" id="brushSoftnessVal">0</span>
        </div>
        <input type="range" class="brush-range" id="brushSoftness" min="0" max="100" value="0" oninput="updateBrushSoftness(this.value)">
      </div>
      <div class="brush-canvas-wrap" id="brushCanvasWrap">
        <canvas id="brushEditCanvas"></canvas>
      </div>
      <div class="brush-footer">
        <div class="brush-undo-group">
          <button class="btn-icon" id="btnBrushUndo" onclick="brushUndo()" title="‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö (Ctrl+Z)" disabled>
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 7v6h6"/><path d="M3 13a9 9 0 1 0 2.1-5.9L3 7"/></svg>
          </button>
          <button class="btn-icon" id="btnBrushRedo" onclick="brushRedo()" title="‡∏ó‡∏≥‡∏ã‡πâ‡∏≥ (Ctrl+Y)" disabled>
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 7v6h-6"/><path d="M21 13a9 9 0 1 1-2.1-5.9L21 7"/></svg>
          </button>
        </div>
        <button class="btn btn-secondary brush-reset-btn" onclick="resetBrushMask()">‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á</button>
      </div>
    </div>
  </div>

  <!-- Background Options -->
  <div class="bg-options">
    <div class="bg-options-title">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20"/><path d="M2 12h20"/></svg>
      ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á
    </div>
    <div class="bg-grid">
      <div class="bg-swatch transparent active" data-bg="transparent" title="‡πÇ‡∏õ‡∏£‡πà‡∏á‡πÉ‡∏™" onclick="setBg(this,'transparent')"></div>
      <div class="bg-swatch" style="background:#ffffff" data-bg="#ffffff" title="‡∏™‡∏µ‡∏Ç‡∏≤‡∏ß" onclick="setBg(this,'#ffffff')"></div>
      <div class="bg-swatch" style="background:#000000" data-bg="#000000" title="‡∏™‡∏µ‡∏î‡∏≥" onclick="setBg(this,'#000000')"></div>
      <div class="bg-swatch" style="background:#f8f9fa" data-bg="#f8f9fa" title="‡πÄ‡∏ó‡∏≤‡∏≠‡πà‡∏≠‡∏ô" onclick="setBg(this,'#f8f9fa')"></div>
      <div class="bg-swatch" style="background:#1e3a5f" data-bg="#1e3a5f" title="‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏Ç‡πâ‡∏°" onclick="setBg(this,'#1e3a5f')"></div>
      <div class="bg-swatch" style="background:#dc2626" data-bg="#dc2626" title="‡πÅ‡∏î‡∏á" onclick="setBg(this,'#dc2626')"></div>
      <div class="bg-swatch bg-gradient-1" data-bg="linear-gradient(135deg,#667eea,#764ba2)" title="Gradient 1" onclick="setBg(this,'linear-gradient(135deg,#667eea,#764ba2)')"></div>
      <div class="bg-swatch bg-gradient-2" data-bg="linear-gradient(135deg,#f093fb,#f5576c)" title="Gradient 2" onclick="setBg(this,'linear-gradient(135deg,#f093fb,#f5576c)')"></div>
      <div class="bg-swatch bg-gradient-3" data-bg="linear-gradient(135deg,#4facfe,#00f2fe)" title="Gradient 3" onclick="setBg(this,'linear-gradient(135deg,#4facfe,#00f2fe)')"></div>
      <div class="bg-swatch bg-gradient-4" data-bg="linear-gradient(135deg,#43e97b,#38f9d7)" title="Gradient 4" onclick="setBg(this,'linear-gradient(135deg,#43e97b,#38f9d7)')"></div>
      <input type="color" class="bg-color-input" value="#7c5cfc" title="‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏µ‡πÄ‡∏≠‡∏á" onchange="setBg(this, this.value)">
      <label class="bg-image-upload" title="‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="18" height="18" rx="2"/><circle cx="8.5" cy="8.5" r="1.5"/><path d="M21 15l-5-5L5 21"/></svg>
        <input type="file" accept="image/*" style="display:none" onchange="setBgImage(this)">
      </label>
    </div>
  </div>

  <!-- Download -->
  <div class="download-panel">
    <button class="btn btn-primary" onclick="download('png')">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>
      ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î PNG
    </button>
    <button class="btn btn-secondary" onclick="download('jpeg')">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>
      JPEG
    </button>
    <button class="btn btn-secondary" onclick="download('webp')">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>
      WEBP
    </button>
  </div>
</div>

<!-- ‚ñà‚ñà Stats Bar ‚ñà‚ñà -->
<div class="stats-bar">
  <div class="stats-grid">
    <div><div class="stat-num">100%</div><div class="stat-label">‡∏ü‡∏£‡∏µ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢</div></div>
    <div><div class="stat-num">&lt;10 ‡∏ß‡∏¥</div><div class="stat-label">‡πÄ‡∏ß‡∏•‡∏≤‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢</div></div>
    <div><div class="stat-num">‚àû</div><div class="stat-label">‡πÑ‡∏°‡πà‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á</div></div>
    <div><div class="stat-num">0</div><div class="stat-label">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ñ‡∏π‡∏Å‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å‡∏ô‡∏≠‡∏Å</div></div>
  </div>
</div>

<!-- ‚ñà‚ñà How It Works ‚ñà‚ñà -->
<section class="section" id="howto">
  <div class="section-center" style="text-align:center">
    <span class="section-tag">üìã ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô</span>
    <h2 class="section-title">‡∏à‡∏∞‡∏•‡∏ö‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏†‡∏≤‡∏¢‡πÉ‡∏ô<span>‡πÑ‡∏°‡πà‡∏Å‡∏µ‡πà‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ</span>‡πÑ‡∏î‡πâ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£</h2>
    <p class="section-desc center">‡∏á‡πà‡∏≤‡∏¢‡πÄ‡∏û‡∏µ‡∏¢‡∏á 3 ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏° ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å ‡∏ó‡∏≥‡πÑ‡∏î‡πâ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ‡πÉ‡∏ô‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå</p>
    <div class="steps-grid">
      <div class="step-card">
        <div class="step-icon">üì∑</div>
        <div class="step-num">1</div>
        <h3>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û</h3>
        <p>‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏†‡∏≤‡∏û JPEG, PNG ‡∏´‡∏£‡∏∑‡∏≠ WEBP ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì ‡∏•‡∏≤‡∏Å‡πÑ‡∏ü‡∏•‡πå‡∏°‡∏≤‡∏ß‡∏≤‡∏á ‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏•‡∏∑‡∏≠‡∏Å ‡∏´‡∏£‡∏∑‡∏≠‡∏ß‡∏≤‡∏á‡∏à‡∏≤‡∏Å‡∏Ñ‡∏•‡∏¥‡∏õ‡∏ö‡∏≠‡∏£‡πå‡∏î (Ctrl+V)</p>
      </div>
      <div class="step-card">
        <div class="step-icon">‚ú®</div>
        <div class="step-num">2</div>
        <h3>AI ‡∏•‡∏ö‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥</h3>
        <p>‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ AI ‡∏à‡∏∞‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÅ‡∏•‡∏∞‡πÅ‡∏¢‡∏Å‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏´‡∏•‡∏±‡∏Å‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡πÇ‡∏î‡∏¢‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏Ñ‡∏°‡∏ä‡∏±‡∏î‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏°‡∏∑‡∏≠‡∏≠‡∏≤‡∏ä‡∏µ‡∏û</p>
      </div>
      <div class="step-card">
        <div class="step-icon">üíæ</div>
        <div class="step-num">3</div>
        <h3>‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå</h3>
        <p>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ (‡πÇ‡∏õ‡∏£‡πà‡∏á‡πÉ‡∏™, ‡∏™‡∏µ‡∏•‡πâ‡∏ß‡∏ô, ‡πÑ‡∏•‡πà‡∏™‡∏µ) ‡πÅ‡∏•‡πâ‡∏ß‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡πÉ‡∏ô‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö PNG, JPEG ‡∏´‡∏£‡∏∑‡∏≠ WEBP</p>
      </div>
    </div>
  </div>
</section>

<!-- ‚ñà‚ñà Features ‚ñà‚ñà -->
<section class="section" id="features" style="background:var(--bg2)">
  <div class="section-center">
    <span class="section-tag">‚ö° ‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥</span>
    <h2 class="section-title">‡∏ó‡∏∏‡∏Å‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ <span>‡∏Ñ‡∏£‡∏ö‡∏à‡∏ö‡πÉ‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏î‡∏µ‡∏¢‡∏ß</span></h2>
    <p class="section-desc">‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏•‡∏ö‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏ó‡∏µ‡πà‡∏ó‡∏£‡∏á‡∏û‡∏•‡∏±‡∏á ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏á‡πà‡∏≤‡∏¢ ‡πÅ‡∏•‡∏∞‡∏ü‡∏£‡∏µ‡∏ï‡∏•‡∏≠‡∏î‡∏Å‡∏≤‡∏•</p>
    <div class="features-grid">
      <div class="feature-card">
        <div class="feature-icon">ü§ñ</div>
        <h3>AI ‡∏≠‡∏±‡∏à‡∏â‡∏£‡∏¥‡∏¢‡∏∞</h3>
        <p>‡πÉ‡∏ä‡πâ‡πÇ‡∏°‡πÄ‡∏î‡∏• Deep Learning ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏™‡∏π‡∏á‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÅ‡∏¢‡∏Å‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥ ‡∏Ç‡∏≠‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏Ñ‡∏°‡∏ä‡∏±‡∏î ‡πÅ‡∏°‡πâ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÄ‡∏•‡πá‡∏Å‡πÜ ‡πÄ‡∏ä‡πà‡∏ô ‡∏ú‡∏° ‡∏Ç‡∏ô</p>
      </div>
      <div class="feature-card">
        <div class="feature-icon">üîí</div>
        <h3>‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢ 100%</h3>
        <p>‡∏ó‡∏∏‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•‡πÉ‡∏ô‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå‡πÉ‡∏î‡πÜ ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏™‡∏°‡∏≠</p>
      </div>
      <div class="feature-card">
        <div class="feature-icon">üé®</div>
        <h3>‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡πÑ‡∏î‡πâ</h3>
        <p>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡πÇ‡∏õ‡∏£‡πà‡∏á‡πÉ‡∏™ ‡∏™‡∏µ‡∏•‡πâ‡∏ß‡∏ô ‡πÑ‡∏•‡πà‡∏™‡∏µ gradient ‡∏´‡∏£‡∏∑‡∏≠‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏†‡∏≤‡∏û‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏≠‡∏á ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡∏ó‡∏±‡∏ô‡∏ó‡∏µ</p>
      </div>
      <div class="feature-card">
        <div class="feature-icon">‚ö°</div>
        <h3>‡∏£‡∏ß‡∏î‡πÄ‡∏£‡πá‡∏ß‡∏ó‡∏±‡∏ô‡πÉ‡∏à</h3>
        <p>‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•‡∏†‡∏≤‡∏û‡∏†‡∏≤‡∏¢‡πÉ‡∏ô‡πÑ‡∏°‡πà‡∏Å‡∏µ‡πà‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ ‡πÇ‡∏°‡πÄ‡∏î‡∏• AI ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡πÅ‡∏Ñ‡∏ä‡πÑ‡∏ß‡πâ‡πÉ‡∏ô‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ï‡πà‡∏≠‡πÑ‡∏õ‡πÄ‡∏£‡πá‡∏ß‡∏Ç‡∏∂‡πâ‡∏ô‡∏≠‡∏µ‡∏Å</p>
      </div>
      <div class="feature-card">
        <div class="feature-icon">üíé</div>
        <h3>‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡∏™‡∏π‡∏á</h3>
        <p>‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏Ç‡∏≠‡∏á‡∏†‡∏≤‡∏û‡∏ï‡πâ‡∏ô‡∏â‡∏ö‡∏±‡∏ö ‡πÑ‡∏°‡πà‡∏ö‡∏µ‡∏ö‡∏≠‡∏±‡∏î ‡πÑ‡∏°‡πà‡∏•‡∏î‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û ‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å‡πÑ‡∏î‡πâ‡∏ó‡∏±‡πâ‡∏á PNG JPEG ‡πÅ‡∏•‡∏∞ WEBP</p>
      </div>
      <div class="feature-card">
        <div class="feature-icon">üì±</div>
        <h3>‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏ó‡∏∏‡∏Å‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå</h3>
        <p>‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏ö‡∏ô‡∏Ñ‡∏≠‡∏°‡∏û‡∏¥‡∏ß‡πÄ‡∏ï‡∏≠‡∏£‡πå ‡πÅ‡∏ó‡πá‡∏ö‡πÄ‡∏•‡πá‡∏ï ‡πÅ‡∏•‡∏∞‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠ ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏ó‡∏∏‡∏Å‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå‡∏™‡∏°‡∏±‡∏¢‡πÉ‡∏´‡∏°‡πà ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡∏≠‡∏∞‡πÑ‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏°</p>
      </div>
      <div class="feature-card">
        <div class="feature-icon">üñºÔ∏è</div>
        <h3>‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏Å‡πà‡∏≠‡∏ô-‡∏´‡∏•‡∏±‡∏á</h3>
        <p>‡πÉ‡∏ä‡πâ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏ï‡∏Å‡∏ï‡πà‡∏≤‡∏á‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏†‡∏≤‡∏û‡∏ï‡πâ‡∏ô‡∏â‡∏ö‡∏±‡∏ö‡∏Å‡∏±‡∏ö‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡πÑ‡∏î‡πâ‡πÅ‡∏ö‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏•‡πÑ‡∏ó‡∏°‡πå</p>
      </div>
      <div class="feature-card">
        <div class="feature-icon">üìã</div>
        <h3>‡∏ß‡∏≤‡∏á Clipboard ‡πÑ‡∏î‡πâ</h3>
        <p>‡∏Å‡∏î Ctrl+V ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ß‡∏≤‡∏á‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏à‡∏≤‡∏Å‡∏Ñ‡∏•‡∏¥‡∏õ‡∏ö‡∏≠‡∏£‡πå‡∏î‡πÑ‡∏î‡πâ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ ‡∏™‡∏∞‡∏î‡∏ß‡∏Å‡∏£‡∏ß‡∏î‡πÄ‡∏£‡πá‡∏ß ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÑ‡∏ü‡∏•‡πå‡∏Å‡πà‡∏≠‡∏ô</p>
      </div>
    </div>
  </div>
</section>

<!-- ‚ñà‚ñà Use Cases ‚ñà‚ñà -->
<section class="section">
  <div class="section-center" style="text-align:center">
    <span class="section-tag">üè∑Ô∏è ‡∏Å‡∏£‡∏ì‡∏µ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</span>
    <h2 class="section-title">‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö<span>‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£</span></h2>
    <p class="section-desc center">‡πÑ‡∏°‡πà‡∏ß‡πà‡∏≤‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡∏ú‡∏π‡πâ‡∏Ç‡∏≤‡∏¢‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå ‡∏ô‡∏±‡∏Å‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö ‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß</p>
    <div class="usecases-grid">
      <div class="usecase-card">
        <div class="usecase-icon">üõí</div>
        <h4>‡∏≠‡∏µ‡∏Ñ‡∏≠‡∏°‡πÄ‡∏°‡∏¥‡∏£‡πå‡∏ã</h4>
        <p>‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏†‡∏≤‡∏û‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏Ç‡∏≤‡∏ß ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Shopee, Lazada, Amazon</p>
      </div>
      <div class="usecase-card">
        <div class="usecase-icon">üì¢</div>
        <h4>‡∏Å‡∏≤‡∏£‡∏ï‡∏•‡∏≤‡∏î</h4>
        <p>‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏ö‡∏ô‡πÄ‡∏ô‡∏≠‡∏£‡πå ‡πÇ‡∏õ‡∏™‡πÄ‡∏ï‡∏≠‡∏£‡πå ‡∏™‡∏∑‡πà‡∏≠‡πÇ‡∏Ü‡∏©‡∏ì‡∏≤‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏°‡∏∑‡∏≠‡∏≠‡∏≤‡∏ä‡∏µ‡∏û</p>
      </div>
      <div class="usecase-card">
        <div class="usecase-icon">üé®</div>
        <h4>‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡∏Å‡∏£‡∏≤‡∏ü‡∏¥‡∏Å</h4>
        <p>‡πÅ‡∏¢‡∏Å‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏≥‡πÑ‡∏õ‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏á‡∏≤‡∏ô‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡∏ï‡πà‡∏≤‡∏á‡πÜ</p>
      </div>
      <div class="usecase-card">
        <div class="usecase-icon">üì∏</div>
        <h4>‡∏†‡∏≤‡∏û‡∏ñ‡πà‡∏≤‡∏¢‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß</h4>
        <p>‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏†‡∏≤‡∏û‡∏ñ‡πà‡∏≤‡∏¢ ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏†‡∏≤‡∏û‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå</p>
      </div>
      <div class="usecase-card">
        <div class="usecase-icon">üìÑ</div>
        <h4>‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£</h4>
        <p>‡∏ï‡∏±‡∏î‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏†‡∏≤‡∏û‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ô‡∏≥‡πÄ‡∏™‡∏ô‡∏≠‡∏ú‡∏•‡∏á‡∏≤‡∏ô ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô</p>
      </div>
      <div class="usecase-card">
        <div class="usecase-icon">üì±</div>
        <h4>‡πÇ‡∏ã‡πÄ‡∏ä‡∏µ‡∏¢‡∏•‡∏°‡∏µ‡πÄ‡∏î‡∏µ‡∏¢</h4>
        <p>‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏≠‡∏ô‡πÄ‡∏ó‡∏ô‡∏ï‡πå‡πÇ‡∏î‡∏î‡πÄ‡∏î‡πà‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö IG, TikTok, Facebook</p>
      </div>
    </div>
  </div>
</section>

<!-- ‚ñà‚ñà FAQ ‚ñà‚ñà -->
<section class="section" id="faq" style="background:var(--bg2)">
  <div class="section-center" style="text-align:center">
    <span class="section-tag">‚ùì ‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏û‡∏ö‡∏ö‡πà‡∏≠‡∏¢</span>
    <h2 class="section-title">Frequently Asked <span>Questions</span></h2>
    <p class="section-desc center">‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏°‡∏±‡∏Å‡∏ñ‡∏≤‡∏°‡∏ö‡πà‡∏≠‡∏¢</p>
  </div>
  <div class="faq-list">
    <div class="faq-item">
      <div class="faq-q" onclick="toggleFaq(this)">
        ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏ô‡∏µ‡πâ‡∏ü‡∏£‡∏µ‡∏à‡∏£‡∏¥‡∏á‡∏´‡∏£‡∏∑‡∏≠?
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>
      </div>
      <div class="faq-a"><p>‡∏ü‡∏£‡∏µ 100% ‡∏Ñ‡∏£‡∏±‡∏ö ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢‡πÉ‡∏î‡πÜ ‡πÑ‡∏°‡πà‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏•‡∏≤‡∏¢‡∏ô‡πâ‡∏≥ ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢‡∏ó‡∏±‡∏ô‡∏ó‡∏µ</p></div>
    </div>
    <div class="faq-item">
      <div class="faq-q" onclick="toggleFaq(this)">
        ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô‡∏ñ‡∏π‡∏Å‡∏™‡πà‡∏á‡πÑ‡∏õ‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå‡πÑ‡∏´‡∏°?
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>
      </div>
      <div class="faq-a"><p>‡πÑ‡∏°‡πà‡∏Ñ‡∏£‡∏±‡∏ö ‡∏ó‡∏∏‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•‡πÉ‡∏ô‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á ‡∏î‡πâ‡∏ß‡∏¢‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ AI ‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ù‡∏±‡πà‡∏á Client-side ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡πÉ‡∏î‡∏ó‡∏±‡πâ‡∏á‡∏™‡∏¥‡πâ‡∏ô ‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢ 100%</p></div>
    </div>
    <div class="faq-item">
      <div class="faq-q" onclick="toggleFaq(this)">
        ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡πÑ‡∏ü‡∏•‡πå‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏≠‡∏∞‡πÑ‡∏£‡∏ö‡πâ‡∏≤‡∏á?
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>
      </div>
      <div class="faq-a"><p>‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡πÑ‡∏ü‡∏•‡πå JPEG (.jpg), PNG (.png) ‡πÅ‡∏•‡∏∞ WEBP (.webp) ‡∏Ç‡∏ô‡∏≤‡∏î‡πÑ‡∏°‡πà‡∏à‡∏≥‡∏Å‡∏±‡∏î ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÉ‡∏ä‡πâ‡∏†‡∏≤‡∏û‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏™‡∏π‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏ó‡∏µ‡πà‡∏î‡∏µ‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î</p></div>
    </div>
    <div class="faq-item">
      <div class="faq-q" onclick="toggleFaq(this)">
        ‡∏ó‡∏≥‡πÑ‡∏°‡∏Å‡∏≤‡∏£‡πÇ‡∏´‡∏•‡∏î‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å‡∏ñ‡∏∂‡∏á‡∏ä‡πâ‡∏≤?
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>
      </div>
      <div class="faq-a"><p>‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å ‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå‡∏à‡∏∞‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡πÇ‡∏°‡πÄ‡∏î‡∏• AI (‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì 30-40 MB) ‡∏°‡∏≤‡πÄ‡∏Å‡πá‡∏ö‡πÑ‡∏ß‡πâ‡πÉ‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á ‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏ô‡∏±‡πâ‡∏ô‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡πÅ‡∏Ñ‡∏ä‡πÑ‡∏ß‡πâ ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ï‡πà‡∏≠‡πÑ‡∏õ‡∏à‡∏∞‡πÄ‡∏£‡πá‡∏ß‡∏Ç‡∏∂‡πâ‡∏ô‡∏°‡∏≤‡∏Å‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡∏≠‡∏µ‡∏Å</p></div>
    </div>
    <div class="faq-item">
      <div class="faq-q" onclick="toggleFaq(this)">
        ‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏•‡∏î‡∏•‡∏á‡∏à‡∏≤‡∏Å‡∏ï‡πâ‡∏ô‡∏â‡∏ö‡∏±‡∏ö‡πÑ‡∏´‡∏°?
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>
      </div>
      <div class="faq-a"><p>‡πÑ‡∏°‡πà‡∏•‡∏î‡∏•‡∏á‡∏Ñ‡∏£‡∏±‡∏ö ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÅ‡∏•‡∏∞‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡∏Ç‡∏≠‡∏á‡∏†‡∏≤‡∏û‡∏ï‡πâ‡∏ô‡∏â‡∏ö‡∏±‡∏ö‡πÑ‡∏ß‡πâ ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡πÉ‡∏ô‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö PNG ‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏†‡∏≤‡∏û‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡πÄ‡∏ï‡πá‡∏°‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡πÇ‡∏õ‡∏£‡πà‡∏á‡πÉ‡∏™</p></div>
    </div>
    <div class="faq-item">
      <div class="faq-q" onclick="toggleFaq(this)">
        ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ö‡∏ô‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠‡πÑ‡∏î‡πâ‡πÑ‡∏´‡∏°?
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>
      </div>
      <div class="faq-a"><p>‡πÑ‡∏î‡πâ‡∏Ñ‡∏£‡∏±‡∏ö ‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡∏°‡∏≤‡πÉ‡∏´‡πâ Responsive ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏î‡∏µ‡∏ö‡∏ô‡∏ó‡∏∏‡∏Å‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå ‡∏ó‡∏±‡πâ‡∏á iPhone, Android, iPad ‡πÅ‡∏•‡∏∞‡∏Ñ‡∏≠‡∏°‡∏û‡∏¥‡∏ß‡πÄ‡∏ï‡∏≠‡∏£‡πå ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÉ‡∏ä‡πâ‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå Chrome ‡∏´‡∏£‡∏∑‡∏≠ Safari ‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î</p></div>
    </div>
  </div>
</section>

<!-- ‚ñà‚ñà CTA ‚ñà‚ñà -->
<section class="cta-section">
  <h2>‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏•‡∏ö‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÅ‡∏•‡πâ‡∏ß‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á?</h2>
  <p>‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ ‡∏ü‡∏£‡∏µ ‡πÑ‡∏°‡πà‡∏à‡∏≥‡∏Å‡∏±‡∏î ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å</p>
  <button class="cta-btn" onclick="scrollToUpload()">
    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="17 8 12 3 7 8"/><line x1="12" y1="3" x2="12" y2="15"/></svg>
    ‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÄ‡∏•‡∏¢
  </button>
</section>

<!-- ‚ñà‚ñà Footer ‚ñà‚ñà -->
<footer class="footer">
  <p>¬© 2026 C2 Remover ‚Äî ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏•‡∏ö‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏î‡πâ‡∏ß‡∏¢ AI ‡∏ü‡∏£‡∏µ | Powered by <a href="https://github.com/imgly/background-removal-js" target="_blank" rel="noopener">IMG.LY</a> ONNX Model</p>
</footer>

<!-- ‚ñà‚ñà Toast ‚ñà‚ñà -->
<div class="toast" id="toast"></div>
<div class="brush-cursor-ring" id="brushCursorRing"></div>

<!-- ‚ñà‚ñà JavaScript ‚ñà‚ñà -->
<script type="module">

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   ‚ñà‚ñà 1. LOAD AI LIBRARY WITH FALLBACKS ‚ñà‚ñà
   ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
let removeBackground = null;
let libStatus = 'loading'; // 'loading' | 'ready' | 'error'

const LIB_URLS = [
  'https://cdn.jsdelivr.net/npm/@imgly/background-removal@1.5.5/+esm',
  'https://esm.sh/@imgly/background-removal@1.5.5',
  'https://cdn.jsdelivr.net/npm/@imgly/background-removal@1/+esm',
  'https://esm.sh/@imgly/background-removal',
];

async function loadLibrary() {
  for (const url of LIB_URLS) {
    try {
      console.log('üîÑ Trying:', url);
      const mod = await import(url);
      const fn = mod.removeBackground || mod.default?.removeBackground;
      if (typeof fn === 'function') {
        removeBackground = fn;
        libStatus = 'ready';
        console.log('‚úÖ AI library loaded from:', url);
        return;
      }
    } catch (e) {
      console.warn('‚ùå Failed:', url, e.message);
    }
  }
  libStatus = 'error';
  console.error('‚ùå All CDN sources failed');
  showToast('‚ö†Ô∏è ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÇ‡∏´‡∏•‡∏î‡πÇ‡∏°‡πÄ‡∏î‡∏• AI ‡πÑ‡∏î‡πâ ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏ß‡πá‡∏ö', 'error');
}

// Start loading immediately
const libPromise = loadLibrary();

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   ‚ñà‚ñà 2. STATE & DOM REFS ‚ñà‚ñà
   ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
let originalURL = null;
let resultBlob = null;
let currentBg = 'transparent';
let isProcessing = false;

const $hero = document.getElementById('top');
const $zone = document.getElementById('uploadZone');
const $input = document.getElementById('fileInput');
const $proc = document.getElementById('processing');
const $procTitle = document.getElementById('procTitle');
const $procStatus = document.getElementById('procStatus');
const $procBar = document.getElementById('procBar');
const $editor = document.getElementById('editor');
const $imgOrig = document.getElementById('imgOriginal');
const $imgResult = document.getElementById('imgResult');
const $resultWrap = document.getElementById('resultWrap');
const $sideBySide = document.getElementById('sideBySide');
const $compareContainer = document.getElementById('compareContainer');
const $compareBefore = document.getElementById('compareBefore');
const $compareBImg = document.getElementById('compareBImg');
const $compareAfter = document.getElementById('compareAfter');
const $toast = document.getElementById('toast');

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   ‚ñà‚ñà 3. UPLOAD EVENTS ‚ñà‚ñà
   ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
$zone.addEventListener('click', (e) => {
  if (e.target.closest('input')) return;
  $input.click();
});
$input.addEventListener('change', e => {
  if (e.target.files && e.target.files[0]) processFile(e.target.files[0]);
});

// Drag & Drop
$zone.addEventListener('dragover', e => { e.preventDefault(); e.stopPropagation(); $zone.classList.add('drag-over'); });
$zone.addEventListener('dragleave', e => { e.preventDefault(); $zone.classList.remove('drag-over'); });
$zone.addEventListener('drop', e => {
  e.preventDefault();
  e.stopPropagation();
  $zone.classList.remove('drag-over');
  const file = e.dataTransfer?.files?.[0];
  if (file) processFile(file);
});

// Paste (Ctrl+V)
document.addEventListener('paste', e => {
  const items = e.clipboardData?.items;
  if (!items) return;
  for (const item of items) {
    if (item.type.startsWith('image/')) {
      const file = item.getAsFile();
      if (file) processFile(file);
      break;
    }
  }
});

// Sample images ‚Äî load via Image element to avoid CORS fetch issues on file://
document.querySelectorAll('.sample-thumb').forEach(thumb => {
  thumb.addEventListener('click', async () => {
    if (isProcessing) return;
    showToast('‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á...', '');
    const url = thumb.dataset.full;
    try {
      // Method 1: try fetch (works on http/https)
      let blob;
      try {
        const resp = await fetch(url, { mode: 'cors' });
        if (!resp.ok) throw new Error('HTTP ' + resp.status);
        blob = await resp.blob();
      } catch (_) {
        // Method 2: load via Image + Canvas (works on file://)
        blob = await new Promise((resolve, reject) => {
          const img = new Image();
          img.crossOrigin = 'anonymous';
          img.onload = () => {
            const c = document.createElement('canvas');
            c.width = img.naturalWidth;
            c.height = img.naturalHeight;
            c.getContext('2d').drawImage(img, 0, 0);
            c.toBlob(b => b ? resolve(b) : reject(new Error('toBlob failed')), 'image/jpeg', 0.92);
          };
          img.onerror = () => reject(new Error('Image load failed'));
          img.src = url;
        });
      }
      processFile(new File([blob], 'sample.jpg', { type: 'image/jpeg' }));
    } catch (err) {
      console.error('Sample load error:', err);
      showToast('‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏î‡πâ ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏≠‡∏á', 'error');
    }
  });
});

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   ‚ñà‚ñà 4. CORE PROCESSING ‚ñà‚ñà
   ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
async function processFile(file) {
  if (isProcessing) return;
  if (!file || !file.type.startsWith('image/')) {
    showToast('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏ü‡∏•‡πå‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û (JPEG, PNG, WEBP)', 'error');
    return;
  }

  // Wait for library if still loading
  if (libStatus === 'loading') {
    showToast('‚è≥ ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡πÇ‡∏°‡πÄ‡∏î‡∏• AI ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏≠‡∏™‡∏±‡∏Å‡∏Ñ‡∏£‡∏π‡πà...', '');
    await libPromise;
  }
  if (libStatus === 'error' || typeof removeBackground !== 'function') {
    showToast('‚ö†Ô∏è ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÇ‡∏´‡∏•‡∏î‡πÇ‡∏°‡πÄ‡∏î‡∏• AI ‡πÑ‡∏î‡πâ ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏ß‡πá‡∏ö‡πÅ‡∏•‡πâ‡∏ß‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà', 'error');
    return;
  }

  isProcessing = true;

  try {
    // Prepare original image URL
    if (originalURL) URL.revokeObjectURL(originalURL);
    originalURL = URL.createObjectURL(file);

    // Show processing UI, hide hero
    if ($hero) $hero.style.display = 'none';
    $editor.classList.remove('active');
    $proc.classList.add('active');
    $procBar.style.width = '0%';
    $procTitle.textContent = '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏£‡∏∞‡∏ö‡∏ö AI...';
    $procStatus.textContent = '‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏≠‡∏™‡∏±‡∏Å‡∏Ñ‡∏£‡∏π‡πà ‡∏Å‡∏≤‡∏£‡πÇ‡∏´‡∏•‡∏î‡πÇ‡∏°‡πÄ‡∏î‡∏•‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å‡∏≠‡∏≤‡∏à‡πÉ‡∏ä‡πâ‡πÄ‡∏ß‡∏•‡∏≤‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì 30 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ';

    const config = {
      progress: (key, current, total) => {
        try {
          const pct = total > 0 ? Math.min(100, Math.round((current / total) * 100)) : 0;
          $procBar.style.width = pct + '%';
          if (key.includes('fetch') || key.includes('load') || key.includes('download')) {
            $procTitle.textContent = 'üì• ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡πÇ‡∏°‡πÄ‡∏î‡∏• AI...';
            $procStatus.textContent = `‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡πÇ‡∏°‡πÄ‡∏î‡∏• ${pct}% (‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å‡∏à‡∏∞‡πÉ‡∏ä‡πâ‡πÄ‡∏ß‡∏•‡∏≤‡∏™‡∏±‡∏Å‡∏û‡∏±‡∏Å)`;
          } else if (key.includes('inference') || key.includes('process') || key.includes('compute')) {
            $procTitle.textContent = '‚ú® ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏•‡∏ö‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á...';
            $procStatus.textContent = `‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•‡∏†‡∏≤‡∏û ${pct}%`;
          } else {
            $procTitle.textContent = '‚öôÔ∏è ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•...';
            $procStatus.textContent = `‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ó‡∏≥‡∏á‡∏≤‡∏ô ${pct}%`;
          }
        } catch(_) { /* ignore progress errors */ }
      }
    };

    // Run AI background removal
    resultBlob = await removeBackground(file, config);

    if (!resultBlob || resultBlob.size === 0) {
      throw new Error('‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏ß‡πà‡∏≤‡∏á‡πÄ‡∏õ‡∏•‡πà‡∏≤ ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏•‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡∏£‡∏π‡∏õ‡∏≠‡∏∑‡πà‡∏ô');
    }

    // Show result
    $proc.classList.remove('active');
    $editor.classList.add('active');

    $imgOrig.src = originalURL;
    const resultURL = URL.createObjectURL(resultBlob);
    $imgResult.src = resultURL;
    $compareBImg.src = originalURL;
    $compareAfter.src = resultURL;

    // Reset background selection
    currentBg = 'transparent';
    document.querySelectorAll('.bg-swatch').forEach(s => s.classList.remove('active'));
    document.querySelector('.bg-swatch.transparent')?.classList.add('active');
    applyBg();

    showToast('‚ú® ‡∏•‡∏ö‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!', 'success');

    // Initialize brush mask editor
    await initBrushSystem(originalURL, URL.createObjectURL(resultBlob));

  } catch (err) {
    console.error('BG removal error:', err);
    $proc.classList.remove('active');
    if ($hero) $hero.style.display = '';
    showToast('‚ùå ‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î: ' + (err.message || 'Unknown error'), 'error');
  } finally {
    isProcessing = false;
  }
}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   ‚ñà‚ñà 5. BACKGROUND OPTIONS ‚ñà‚ñà
   ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
window.setBg = function(el, bg) {
  document.querySelectorAll('.bg-swatch').forEach(s => s.classList.remove('active'));
  if (el?.classList?.contains('bg-swatch')) el.classList.add('active');
  currentBg = bg;
  applyBg();
};

window.setBgImage = function(input) {
  if (!input.files?.[0]) return;
  const reader = new FileReader();
  reader.onload = e => {
    currentBg = `url(${e.target.result})`;
    document.querySelectorAll('.bg-swatch').forEach(s => s.classList.remove('active'));
    applyBg();
  };
  reader.readAsDataURL(input.files[0]);
};

function applyBg() {
  if (!$resultWrap) return;
  if (currentBg === 'transparent') {
    $resultWrap.className = 'canvas-img-wrap checker-bg';
    $resultWrap.style.background = '';
    $resultWrap.style.backgroundSize = '';
    $resultWrap.style.backgroundPosition = '';
  } else if (currentBg.startsWith('url(')) {
    $resultWrap.className = 'canvas-img-wrap';
    $resultWrap.style.background = currentBg;
    $resultWrap.style.backgroundSize = 'cover';
    $resultWrap.style.backgroundPosition = 'center';
  } else if (currentBg.startsWith('linear-gradient')) {
    $resultWrap.className = 'canvas-img-wrap';
    $resultWrap.style.background = currentBg;
    $resultWrap.style.backgroundSize = '';
    $resultWrap.style.backgroundPosition = '';
  } else {
    $resultWrap.className = 'canvas-img-wrap';
    $resultWrap.style.background = currentBg;
    $resultWrap.style.backgroundSize = '';
    $resultWrap.style.backgroundPosition = '';
  }
}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   ‚ñà‚ñà 5.5 BRUSH MASK EDITOR ‚ñà‚ñà
   ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
let brushEnabled = false;
let brushMode = 'add';
let brushSize = 35;
let brushSoftness = 0;
let brushPainting = false;
let lastBrushX = -1, lastBrushY = -1;

let maskCanvas = null;
let origCanvas = null;
let _compTemp = null;
let _brushRenderPending = false;

const undoStack = [];
const redoStack = [];
const MAX_UNDO = 30;

const $brushPanel = document.getElementById('brushPanel');
const $brushToggle = document.getElementById('brushToggle');
const $brushToggleLabel = document.getElementById('brushToggleLabel');
const $brushBody = document.getElementById('brushBody');
const $brushEditCanvas = document.getElementById('brushEditCanvas');
const $btnBrushUndo = document.getElementById('btnBrushUndo');
const $btnBrushRedo = document.getElementById('btnBrushRedo');
const $brushCursor = document.getElementById('brushCursorRing');
let editCtx = null;

function initBrushSystem(origSrc, resSrc) {
  return new Promise(resolve => {
    const oImg = new Image();
    const rImg = new Image();
    let loaded = 0;
    const done = () => {
      if (++loaded < 2) return;
      const w = oImg.naturalWidth, h = oImg.naturalHeight;

      origCanvas = document.createElement('canvas');
      origCanvas.width = w; origCanvas.height = h;
      origCanvas.getContext('2d').drawImage(oImg, 0, 0);

      const tmpC = document.createElement('canvas');
      tmpC.width = w; tmpC.height = h;
      tmpC.getContext('2d').drawImage(rImg, 0, 0, w, h);
      const resPx = tmpC.getContext('2d').getImageData(0, 0, w, h);

      maskCanvas = document.createElement('canvas');
      maskCanvas.width = w; maskCanvas.height = h;
      const mCtx = maskCanvas.getContext('2d');
      const mData = mCtx.createImageData(w, h);
      for (let i = 0; i < resPx.data.length; i += 4) {
        mData.data[i] = 255;
        mData.data[i+1] = 255;
        mData.data[i+2] = 255;
        mData.data[i+3] = resPx.data[i+3];
      }
      mCtx.putImageData(mData, 0, 0);
      window._initialMask = mCtx.getImageData(0, 0, w, h);

      _compTemp = document.createElement('canvas');
      _compTemp.width = w; _compTemp.height = h;

      const maxW = Math.min(660, window.innerWidth - 60);
      const scale = Math.min(maxW / w, 500 / h, 1);
      $brushEditCanvas.width = w;
      $brushEditCanvas.height = h;
      $brushEditCanvas.style.width = Math.round(w * scale) + 'px';
      $brushEditCanvas.style.height = Math.round(h * scale) + 'px';
      editCtx = $brushEditCanvas.getContext('2d');

      document.getElementById('brushPrevOrig').src = origSrc;
      document.getElementById('brushPrevRemoved').src = resSrc;
      document.getElementById('brushPrevReplace').src = resSrc;

      undoStack.length = 0;
      redoStack.length = 0;
      updateUndoRedoBtns();

      $brushPanel.classList.add('active');
      brushEnabled = false;
      $brushToggle.classList.remove('on');
      $brushToggleLabel.textContent = '‡∏õ‡∏¥‡∏î';
      $brushBody.classList.remove('visible');

      renderBrushCanvas();
      resolve();
    };
    oImg.onload = done; rImg.onload = done;
    oImg.onerror = () => { loaded = 99; resolve(); };
    rImg.onerror = () => { loaded = 99; resolve(); };
    oImg.src = origSrc; rImg.src = resSrc;
  });
}

function renderBrushCanvas() {
  if (!editCtx || !origCanvas || !maskCanvas) return;
  const w = $brushEditCanvas.width, h = $brushEditCanvas.height;
  editCtx.clearRect(0, 0, w, h);
  const cs = 10;
  editCtx.fillStyle = '#1a1a35';
  editCtx.fillRect(0, 0, w, h);
  editCtx.fillStyle = '#2a2a4a';
  for (let y = 0; y < h; y += cs * 2) {
    for (let x = 0; x < w; x += cs * 2) {
      editCtx.fillRect(x, y, cs, cs);
      editCtx.fillRect(x + cs, y + cs, cs, cs);
    }
  }
  const tCtx = _compTemp.getContext('2d');
  tCtx.clearRect(0, 0, w, h);
  tCtx.drawImage(origCanvas, 0, 0);
  tCtx.globalCompositeOperation = 'destination-in';
  tCtx.drawImage(maskCanvas, 0, 0);
  tCtx.globalCompositeOperation = 'source-over';
  editCtx.drawImage(_compTemp, 0, 0);
}

function requestBrushRender() {
  if (_brushRenderPending) return;
  _brushRenderPending = true;
  requestAnimationFrame(() => { renderBrushCanvas(); _brushRenderPending = false; });
}

function paintOnMask(x, y) {
  const mCtx = maskCanvas.getContext('2d');
  const r = brushSize;
  const soft = brushSoftness / 100;
  if (brushMode === 'add') {
    mCtx.globalCompositeOperation = 'source-over';
  } else {
    mCtx.globalCompositeOperation = 'destination-out';
  }
  if (soft === 0) {
    mCtx.fillStyle = 'rgba(255,255,255,1)';
    mCtx.beginPath();
    mCtx.arc(x, y, r, 0, Math.PI * 2);
    mCtx.fill();
  } else {
    const innerR = r * (1 - soft);
    const grad = mCtx.createRadialGradient(x, y, innerR, x, y, r);
    grad.addColorStop(0, 'rgba(255,255,255,1)');
    grad.addColorStop(1, 'rgba(255,255,255,0)');
    mCtx.fillStyle = grad;
    mCtx.beginPath();
    mCtx.arc(x, y, r, 0, Math.PI * 2);
    mCtx.fill();
  }
  mCtx.globalCompositeOperation = 'source-over';
}

function paintLine(x0, y0, x1, y1) {
  const dist = Math.hypot(x1 - x0, y1 - y0);
  const step = Math.max(1, brushSize * 0.2);
  const steps = Math.max(1, Math.ceil(dist / step));
  for (let i = 0; i <= steps; i++) {
    const t = i / steps;
    paintOnMask(x0 + (x1 - x0) * t, y0 + (y1 - y0) * t);
  }
}

function getBrushCanvasPos(e) {
  const rect = $brushEditCanvas.getBoundingClientRect();
  const sx = $brushEditCanvas.width / rect.width;
  const sy = $brushEditCanvas.height / rect.height;
  return { x: (e.clientX - rect.left) * sx, y: (e.clientY - rect.top) * sy };
}

function saveMaskSnapshot() {
  const mCtx = maskCanvas.getContext('2d');
  undoStack.push(mCtx.getImageData(0, 0, maskCanvas.width, maskCanvas.height));
  if (undoStack.length > MAX_UNDO) undoStack.shift();
  redoStack.length = 0;
  updateUndoRedoBtns();
}

function updateUndoRedoBtns() {
  $btnBrushUndo.disabled = undoStack.length === 0;
  $btnBrushRedo.disabled = redoStack.length === 0;
}

function compositeAndUpdate() {
  if (!origCanvas || !maskCanvas) return;
  const w = origCanvas.width, h = origCanvas.height;
  const c = document.createElement('canvas');
  c.width = w; c.height = h;
  const ctx = c.getContext('2d');
  ctx.drawImage(origCanvas, 0, 0);
  ctx.globalCompositeOperation = 'destination-in';
  ctx.drawImage(maskCanvas, 0, 0);
  ctx.globalCompositeOperation = 'source-over';
  c.toBlob(blob => {
    if (!blob) return;
    resultBlob = blob;
    const url = URL.createObjectURL(blob);
    $imgResult.src = url;
    const afterImg = $compareAfter;
    if (afterImg) afterImg.src = url;
    const p1 = document.getElementById('brushPrevRemoved');
    const p2 = document.getElementById('brushPrevReplace');
    if (p1) p1.src = url;
    if (p2) p2.src = url;
  }, 'image/png');
}

// Toggle
window.toggleBrushTool = function() {
  brushEnabled = !brushEnabled;
  $brushToggle.classList.toggle('on', brushEnabled);
  $brushToggleLabel.textContent = brushEnabled ? '‡πÄ‡∏õ‡∏¥‡∏î' : '‡∏õ‡∏¥‡∏î';
  $brushBody.classList.toggle('visible', brushEnabled);
  if (brushEnabled) renderBrushCanvas();
};

// Mode
window.setBrushMode = function(mode) {
  brushMode = mode;
  document.getElementById('btnAddMask').classList.toggle('active', mode === 'add');
  document.getElementById('btnRemoveMask').classList.toggle('active', mode === 'remove');
};

// Sliders
window.updateBrushSize = function(v) {
  brushSize = parseInt(v);
  document.getElementById('brushSizeVal').textContent = brushSize;
};
window.updateBrushSoftness = function(v) {
  brushSoftness = parseInt(v);
  document.getElementById('brushSoftnessVal').textContent = brushSoftness;
};

// Preview
window.setBrushPreview = function(mode, el) {
  document.querySelectorAll('.brush-preview-thumb').forEach(p => p.classList.remove('active'));
  el.classList.add('active');
};

// Undo
window.brushUndo = function() {
  if (undoStack.length === 0) return;
  const mCtx = maskCanvas.getContext('2d');
  redoStack.push(mCtx.getImageData(0, 0, maskCanvas.width, maskCanvas.height));
  mCtx.putImageData(undoStack.pop(), 0, 0);
  renderBrushCanvas();
  compositeAndUpdate();
  updateUndoRedoBtns();
};

// Redo
window.brushRedo = function() {
  if (redoStack.length === 0) return;
  const mCtx = maskCanvas.getContext('2d');
  undoStack.push(mCtx.getImageData(0, 0, maskCanvas.width, maskCanvas.height));
  mCtx.putImageData(redoStack.pop(), 0, 0);
  renderBrushCanvas();
  compositeAndUpdate();
  updateUndoRedoBtns();
};

// Reset mask
window.resetBrushMask = function() {
  if (!maskCanvas || !window._initialMask) return;
  saveMaskSnapshot();
  maskCanvas.getContext('2d').putImageData(window._initialMask, 0, 0);
  renderBrushCanvas();
  compositeAndUpdate();
  showToast('‚úÖ ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏°‡∏≤‡∏™‡∏Å‡πå‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à', 'success');
};

// Canvas mouse/touch events
$brushEditCanvas.addEventListener('mousedown', e => {
  if (!brushEnabled) return;
  e.preventDefault();
  saveMaskSnapshot();
  brushPainting = true;
  const p = getBrushCanvasPos(e);
  lastBrushX = p.x; lastBrushY = p.y;
  paintOnMask(p.x, p.y);
  requestBrushRender();
});
$brushEditCanvas.addEventListener('mousemove', e => {
  // Cursor ring
  if (brushEnabled) {
    const rect = $brushEditCanvas.getBoundingClientRect();
    const dispScale = rect.width / $brushEditCanvas.width;
    const sz = brushSize * 2 * dispScale;
    $brushCursor.style.display = 'block';
    $brushCursor.style.width = sz + 'px';
    $brushCursor.style.height = sz + 'px';
    $brushCursor.style.left = (e.clientX - sz / 2) + 'px';
    $brushCursor.style.top = (e.clientY - sz / 2) + 'px';
  }
  if (!brushPainting) return;
  const p = getBrushCanvasPos(e);
  paintLine(lastBrushX, lastBrushY, p.x, p.y);
  lastBrushX = p.x; lastBrushY = p.y;
  requestBrushRender();
});
document.addEventListener('mouseup', () => {
  if (brushPainting) {
    brushPainting = false;
    compositeAndUpdate();
  }
});
$brushEditCanvas.addEventListener('mouseleave', () => {
  $brushCursor.style.display = 'none';
});

// Touch support
$brushEditCanvas.addEventListener('touchstart', e => {
  if (!brushEnabled) return;
  e.preventDefault();
  saveMaskSnapshot();
  brushPainting = true;
  const t = e.touches[0];
  const p = getBrushCanvasPos(t);
  lastBrushX = p.x; lastBrushY = p.y;
  paintOnMask(p.x, p.y);
  requestBrushRender();
}, { passive: false });
$brushEditCanvas.addEventListener('touchmove', e => {
  if (!brushPainting) return;
  e.preventDefault();
  const t = e.touches[0];
  const p = getBrushCanvasPos(t);
  paintLine(lastBrushX, lastBrushY, p.x, p.y);
  lastBrushX = p.x; lastBrushY = p.y;
  requestBrushRender();
}, { passive: false });
document.addEventListener('touchend', () => {
  if (brushPainting) {
    brushPainting = false;
    compositeAndUpdate();
  }
});

// Keyboard shortcuts: Ctrl+Z / Ctrl+Y
document.addEventListener('keydown', e => {
  if (!brushEnabled) return;
  if ((e.ctrlKey || e.metaKey) && !e.shiftKey && e.key === 'z') { e.preventDefault(); brushUndo(); }
  if ((e.ctrlKey || e.metaKey) && (e.key === 'y' || (e.shiftKey && e.key === 'z') || (e.shiftKey && e.key === 'Z'))) { e.preventDefault(); brushRedo(); }
});

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   ‚ñà‚ñà 6. DOWNLOAD ‚ñà‚ñà
   ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
window.download = async function(format) {
  if (!resultBlob) {
    showToast('‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡∏Å‡πà‡∏≠‡∏ô', 'error');
    return;
  }
  showToast('‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡πÑ‡∏ü‡∏•‡πå...', '');

  try {
    const img = new Image();
    img.src = URL.createObjectURL(resultBlob);
    await new Promise((resolve, reject) => {
      img.onload = resolve;
      img.onerror = () => reject(new Error('Failed to load result image'));
    });

    const canvas = document.createElement('canvas');
    canvas.width = img.naturalWidth;
    canvas.height = img.naturalHeight;
    const ctx = canvas.getContext('2d');

    // Draw background
    if (currentBg === 'transparent') {
      if (format === 'jpeg') {
        ctx.fillStyle = '#ffffff';
        ctx.fillRect(0, 0, canvas.width, canvas.height);
      }
    } else if (currentBg.startsWith('url(')) {
      const bgUrl = currentBg.slice(4, -1);
      const bgImg = new Image();
      bgImg.src = bgUrl;
      await new Promise((resolve, reject) => {
        bgImg.onload = resolve;
        bgImg.onerror = () => reject(new Error('Failed to load bg'));
      });
      ctx.drawImage(bgImg, 0, 0, canvas.width, canvas.height);
    } else if (currentBg.startsWith('linear-gradient')) {
      const match = currentBg.match(/#[0-9a-fA-F]{3,8}/g);
      if (match && match.length >= 2) {
        const grad = ctx.createLinearGradient(0, 0, canvas.width, canvas.height);
        grad.addColorStop(0, match[0]);
        grad.addColorStop(1, match[1]);
        ctx.fillStyle = grad;
        ctx.fillRect(0, 0, canvas.width, canvas.height);
      }
    } else {
      ctx.fillStyle = currentBg;
      ctx.fillRect(0, 0, canvas.width, canvas.height);
    }

    // Draw foreground
    ctx.drawImage(img, 0, 0);
    URL.revokeObjectURL(img.src);

    // Export
    const mimeTypes = { png: 'image/png', jpeg: 'image/jpeg', webp: 'image/webp' };
    const quality = format === 'png' ? undefined : 0.92;

    canvas.toBlob(blob => {
      if (!blob) { showToast('‚ùå ‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å‡πÑ‡∏ü‡∏•‡πå‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à', 'error'); return; }
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = `bg-removed.${format === 'jpeg' ? 'jpg' : format}`;
      document.body.appendChild(a);
      a.click();
      document.body.removeChild(a);
      setTimeout(() => URL.revokeObjectURL(url), 2000);
      showToast('‚úÖ ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!', 'success');
    }, mimeTypes[format], quality);
  } catch (err) {
    console.error('Download error:', err);
    showToast('‚ùå ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à: ' + err.message, 'error');
  }
};

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   ‚ñà‚ñà 7. COMPARE SLIDER ‚ñà‚ñà
   ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
let compareActive = false;

window.toggleCompare = function() {
  compareActive = !compareActive;
  $compareContainer.classList.toggle('active', compareActive);
  $sideBySide.style.display = compareActive ? 'none' : '';
  const btn = document.getElementById('btnCompare');
  btn.classList.toggle('btn-primary', compareActive);
  btn.classList.toggle('btn-secondary', !compareActive);
  
  if(compareActive) {
    // Set container height based on image aspect ratio to prevent squishing
    const img = $compareAfter.querySelector('img') || $compareAfter;
    if(img && img.naturalWidth) {
      const ratio = img.naturalHeight / img.naturalWidth;
      const containerWidth = $compareContainer.clientWidth;
      $compareContainer.style.height = (containerWidth * ratio) + 'px';
      
      // Sync width of the before image to match the container width exactly
      $compareBImg.style.width = containerWidth + 'px';
    }
  }
};

let isDragging = false;
$compareContainer.addEventListener('mousedown', e => { isDragging = true; moveSlider(e); });
$compareContainer.addEventListener('mousemove', e => { if (isDragging) moveSlider(e); });
document.addEventListener('mouseup', () => isDragging = false);
$compareContainer.addEventListener('touchstart', e => { isDragging = true; moveSlider(e.touches[0]); }, { passive: true });
$compareContainer.addEventListener('touchmove', e => { if (isDragging) moveSlider(e.touches[0]); }, { passive: true });
document.addEventListener('touchend', () => isDragging = false);
window.addEventListener('resize', () => {
  if(compareActive) {
    const img = $compareAfter.querySelector('img') || $compareAfter;
    if(img && img.naturalWidth) {
      const ratio = img.naturalHeight / img.naturalWidth;
      const containerWidth = $compareContainer.clientWidth;
      $compareContainer.style.height = (containerWidth * ratio) + 'px';
      $compareBImg.style.width = containerWidth + 'px';
    }
  }
});

function moveSlider(e) {
  const rect = $compareContainer.getBoundingClientRect();
  let x = ((e.clientX - rect.left) / rect.width) * 100;
  x = Math.max(0, Math.min(100, x));
  document.getElementById('compareSlider').style.left = x + '%';
  $compareBefore.style.width = x + '%';
}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   ‚ñà‚ñà 8. RESET / SCROLL / TOAST / FAQ ‚ñà‚ñà
   ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
window.resetEditor = function() {
  $editor.classList.remove('active');
  $proc.classList.remove('active');
  if ($hero) $hero.style.display = '';
  compareActive = false;
  $compareContainer.classList.remove('active');
  $sideBySide.style.display = '';
  const btn = document.getElementById('btnCompare');
  btn.classList.remove('btn-primary');
  btn.classList.add('btn-secondary');
  $input.value = '';
  isProcessing = false;
  // Clean up brush editor
  brushEnabled = false;
  brushPainting = false;
  $brushPanel.classList.remove('active');
  $brushToggle.classList.remove('on');
  $brushToggleLabel.textContent = '‡∏õ‡∏¥‡∏î';
  $brushBody.classList.remove('visible');
  undoStack.length = 0;
  redoStack.length = 0;
  maskCanvas = null;
  origCanvas = null;
  $brushCursor.style.display = 'none';
};

window.scrollToUpload = function() {
  if ($editor.classList.contains('active')) {
    window.resetEditor();
  }
  document.getElementById('top')?.scrollIntoView({ behavior: 'smooth' });
};

function showToast(msg, type) {
  $toast.textContent = msg;
  $toast.className = 'toast show ' + (type || '');
  clearTimeout($toast._timer);
  $toast._timer = setTimeout(() => $toast.classList.remove('show'), 4000);
}

window.toggleFaq = function(el) {
  const item = el.parentElement;
  const wasOpen = item.classList.contains('open');
  document.querySelectorAll('.faq-item').forEach(i => i.classList.remove('open'));
  if (!wasOpen) item.classList.add('open');
};

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   ‚ñà‚ñà 9. ANIMATIONS ‚ñà‚ñà
   ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
const observer = new IntersectionObserver(entries => {
  entries.forEach(e => {
    if (e.isIntersecting) {
      e.target.classList.add('fade-in');
      observer.unobserve(e.target);
    }
  });
}, { threshold: 0.1 });
document.querySelectorAll('.step-card, .feature-card, .usecase-card, .faq-item').forEach(el => observer.observe(el));

console.log('üñºÔ∏è C2 Remover initialized ‚Äî waiting for AI library...');
</script>

</body>
</html>
